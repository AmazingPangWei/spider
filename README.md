## 一些爬虫练手的项目

### 针对其中的微博爬虫，进行一点说明

*开发背景：*本学校的徐义春老师带领研究生们做微博谣言的深度学习。希望通过研究，能开发出一种识别谣言的算法。这需要大量的数据进行学习。徐老师听说我做过爬虫，就给了我这么一个机会。本爬虫仅用于学习交流，切勿恶意使用。

*开发过程：*一开始，我用的selenium+bs4对微博的移动端进行爬取，当开发完成后，陆陆续续的发现了一些问题。最大的问题并不是IP封锁，而是selenium随着请求的次数增加，对内存的消耗会越来越大，最后会导致电脑变卡，内存不足。后来改换思路，采用了requests+bs4访问微博对应api的方法来爬取数据，这样内存消耗少，速度快。其中的问题是sina visitor system会阻拦requests的访问，这时候就使用了selenium来进行第一次模拟访问，访问成功后，记录下cookies，用requests带着这个cookies进行请求，这样就解决了问题。

*关于登录：*本程序采用的api都是免登录的，免去了登录的繁琐步骤。效率更高，可读性也更好。

*关于IP封锁的问题：*注意到部分微博的转发和评论数太多，请求太多、太频繁的话，便会被IP封锁，其中的最好的解决方法就是IP代理了。这里推荐一个开源项目---[IPProxyPool](https://github.com/qiyeboy/IPProxyPool)。该项目能够爬取很多免费的IP代理，我们可以采用get请求的方式获得这些IP，方便实用。

### 微博API介绍

| API地址                                   | 参数                              | 介绍         |
| ----------------------------------------- | --------------------------------- | ------------ |
| https://m.weibo.cn/api/container/getIndex | "type": "uid"，"value": 用户的uid | 获取用户信息 |
| https://weibo.com/aj/v6/mblog/info/big    | "id": 微博的id，"page": 页数      | 获取微博转发 |
| https://weibo.com/aj/v6/comment/big       | "id": 微博的id，"page": 页数      | 获取微博评论 |

